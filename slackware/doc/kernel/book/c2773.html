

<HTML>
<TITLE>
The Slackware Linux Project: Slackware Linux Essentials</TITLE>
<BODY BACKGROUND="grfx-shared/background.jpg" BGCOLOR="#fefefe"
		         TEXT="#000000" LINK="#000000" VLINK="#000000"
		         ALINK="#000000">
<CENTER>

<TABLE BORDER="0" WIDTH="85%" CELLSPACING="0" CELLPADDING="0">
<TR>
	<TD COLSPAN="3">
		<TABLE WIDTH="95%" CELLSPACING="0" CELLPADDING="0">
		<TR>
			<TD ALIGN="center" VALIGN="bottom" WIDTH="55%">
				<TABLE WIDTH="80%" CELLPADDING="0"><TR><TD BGCOLOR="#000000">

	      <TABLE WIDTH="100%" CELLPADDING="6">
	      <TR><TD BGCOLOR="#fefefe">
				<CENTER><B>
				Slackware Linux Essentials				</B></CENTER>
				</TD></TR></TABLE>
</TD></TR></TABLE>			</TD>
			<TD VALIGN="bottom" ALIGN="right">
				<TABLE CELLPADDING="0"><TR><TD BGCOLOR="##000000">
				<TABLE CELLPADDING="0"><TR><TD BGCOLOR="#ffffff">
				<A HREF="http://www.slackware.com/index.php3"><IMG SRC="grfx-shared/logo.jpg" ALT="Slackware Logo" BORDER="0"></A>				</TD></TR></TABLE>
				</TD></TR></TABLE>
			</TD>
		</TR>
      <TR>
         <TD COLSPAN="2"><BR></TD>
      </TR>
		</TABLE>
	</TD>
</TR>
<TR VALIGN="top">
	<TD WIDTH="10%">
		<TABLE WIDTH="100%" CELLPADDING="0"><TR><TD BGCOLOR="#000000">

	      <TABLE WIDTH="100%" CELLPADDING="14">
	      <TR><TD BGCOLOR="#fefefe">
<FONT SIZE="-1"><B>
<A HREF="http://www.slackware.com/index.php3">News</A><P>
<A HREF="http://www.slackware.com/forum/">Forum</A><P><A HREF="http://www.slackware.com/faq/">FAQ</A><P></B></FONT>
</TD></TR></TABLE>
</TD></TR></TABLE><TABLE WIDTH="100%" CELLPADDING="0"><TR><TD BGCOLOR="#000000">

	      <TABLE WIDTH="100%" CELLPADDING="14">
	      <TR><TD BGCOLOR="#fefefe">
<FONT SIZE="-1"><B>
<A HREF="http://www.slackware.com/book/">Book</A></B></B></FONT>
</TD></TR></TABLE>
</TD></TR></TABLE><TABLE WIDTH="100%" CELLPADDING="0"><TR><TD BGCOLOR="#000000">

	      <TABLE WIDTH="100%" CELLPADDING="14">
	      <TR><TD BGCOLOR="#fefefe">
<FONT SIZE="-1"><B>
<P><A HREF="http://www.slackware.com/info/">General Info</A><P><A HREF="http://www.slackware.com/getslack/">Get Slack</A><P><A HREF="http://www.slackware.com/zipslack/">ZipSlack</A><P><A HREF="http://www.slackware.com/install/">Install Help</A><P><A HREF="http://www.slackware.com/config/">Configuration</A><P><A HREF="http://www.slackware.com/packages/">Packages</A><P><A HREF="http://www.slackware.com/changelog/">ChangeLogs</A><P><A HREF="http://www.slackware.com/links/">Other Sites</A><P><A HREF="http://www.slackware.com/search/">Search</A><P><A HREF="http://www.slackware.com/booth/">Booth!</A><P><A HREF="http://www.slackware.com/support/">Support</A><P><A HREF="http://www.slackware.com/contact/">Contact</A><P><A HREF="http://www.slackware.com/lists/">Mailing Lists</A><P><A HREF="http://www.slackware.com/about/">About</A></B></FONT>
</TD></TR></TABLE>
</TD></TR></TABLE><P>	</TD>
	<TD> &nbsp; </TD>
	<TD>
<TABLE WIDTH="100%" CELLPADDING="0"><TR><TD BGCOLOR="#000000">

	      <TABLE WIDTH="100%" CELLPADDING="14">
	      <TR><TD BGCOLOR="#fefefe">
<!DOCTYPE HTML PUBLIC "-//Norman Walsh//DTD DocBook HTML 1.0//EN">
<HTML
><HEAD
><TITLE
>Essential System Administration</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet"><LINK
REL="HOME"
TITLE="Slackware Linux Essentials"
HREF="book1.html"><LINK
REL="UP"
TITLE="Using Slackware Linux"
HREF="p1888.html"><LINK
REL="PREVIOUS"
TITLE="Summary"
HREF="x2767.html"><LINK
REL="NEXT"
TITLE="Shutting Down Properly"
HREF="x2982.html"></HEAD
><BODY
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Slackware Linux Essentials</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x2767.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x2982.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="CHAPTER"
><H1
><A
NAME="SYSTEMADMINSTRATION"
>Chapter 12. Essential System Administration</A
></H1
><DIV
CLASS="TOC"
><DL
><DT
><B
>Table of Contents</B
></DT
><DT
><A
HREF="c2773.html#USERSANDGROUPS"
>Users and Groups</A
></DT
><DT
><A
HREF="x2982.html"
>Shutting Down Properly</A
></DT
><DT
><A
HREF="x3041.html"
>Summary</A
></DT
></DL
></DIV
><P
>You are the administrator of any computers that you have root on.  This 
might be your desktop box with one or two users, or it might be a big
server with several hundred.  Regardless, you'll need to know how to
manage users and safely bring down the system.  They are both seemingly
simple, but do have some quirks to get used to.  In addition, you'll have
to deal with some of the ideas behind how the password system works.</P
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="USERSANDGROUPS"
>Users and Groups</A
></H1
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="SUPPLIEDSCRIPTS"
>Supplied Scripts</A
></H2
><P
>The easiest way to manage users and groups is with the supplied scripts and 
programs.  Slackware includes the programs <B
CLASS="COMMAND"
>adduser</B
>, 
<B
CLASS="COMMAND"
>userdel</B
>(8), <B
CLASS="COMMAND"
>chfn</B
>(1), 
<B
CLASS="COMMAND"
>chsh</B
>(1), and <B
CLASS="COMMAND"
>passwd</B
>(1) for dealing with 
users.  Slackware includes <B
CLASS="COMMAND"
>groupadd</B
>(8), 
<B
CLASS="COMMAND"
>groupdel</B
>(8), and <B
CLASS="COMMAND"
>groupmod</B
>(8) for dealing 
with groups.  With the exception of <B
CLASS="COMMAND"
>chfn</B
>, 
<B
CLASS="COMMAND"
>chsh</B
>, and <B
CLASS="COMMAND"
>passwd</B
>, these are programs 
that can only be run as root and are therefore located in 
<TT
CLASS="FILENAME"
>/usr/sbin</TT
>.  <B
CLASS="COMMAND"
>chfn</B
>, 
<B
CLASS="COMMAND"
>chsh</B
>, and <B
CLASS="COMMAND"
>passwd</B
> can be run by anyone 
and are located in <TT
CLASS="FILENAME"
>/usr/bin</TT
>.</P
><P
>Users are added with the <B
CLASS="COMMAND"
>adduser</B
> program.  We'll start out 
by going through the whole procedure, showing all the questions that are asked
and a brief description of what everything means.  The default answer is in 
the brackets, and can be chosen for almost all the questions, unless you really
want to change something.</P
><P
>   <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>   # <TT
CLASS="USERINPUT"
><B
>adduser</B
></TT
>
   Login name for new user (8 characters or less) []: <TT
CLASS="USERINPUT"
><B
>jellyd</B
></TT
></TT
>
   </PRE
></TD
></TR
></TABLE
></P
><P
>This is the name that the user will use to login.  It needs to be
eight characters or less, because all the login utilities expect
it to be so.  Generally, you should only use lowercase characters
unless you want to type uppercase letters in inconvenient places.</P
><P
><TT
CLASS="COMPUTEROUTPUT"
>   User id for jellyd [ defaults to next available]: </TT
></P
><P
>The user ID (UID) is how ownerships are really determined in Linux.
Each user has a unique number, starting at 1000 in Slackware.  You
can pick a UID for the new user, or you can just let 
<B
CLASS="COMMAND"
>adduser</B
> assign the user the next free one.</P
><P
><TT
CLASS="COMPUTEROUTPUT"
>   Initial group for jellyd [users]: </TT
></P
><P
>All users are placed into the &#8220;users&#8221; group by default.  You 
might want to place the new user into a different group, but it is not 
recommended.</P
><P
><TT
CLASS="COMPUTEROUTPUT"
>   Additional groups for jellyd (seperated
   with commas, no spaces) []:</TT
></P
><P
>This question allows you to place the new user into additional
groups.  It is possible for a user to be in several groups at the
same time.  This is useful if you have established groups for things
like modifying web site files, playing games, and so on.</P
><P
><TT
CLASS="COMPUTEROUTPUT"
>   jellyd's home directory [/home/jellyd]: </TT
></P
><P
>Home directories default to being placed under 
<TT
CLASS="FILENAME"
>/home</TT
>.  If you run a very large 
system, it's possible that you have moved the home directories to a 
different scheme.  This allows you to change where the user's home 
directory will be.  You can also disable an account by changing a 
person's home directory to something like <TT
CLASS="FILENAME"
>/bin/false</TT
>,
though this is not the recommended method.</P
><P
><TT
CLASS="COMPUTEROUTPUT"
>   jellyd's shell [/bin/bash]:</TT
></P
><P
><B
CLASS="COMMAND"
>bash</B
> is the default shell for Slackware Linux, and 
will be fine for most people.  If your new user comes from a 
<SPAN
CLASS="TRADEMARK"
>Unix</SPAN
> background, they may be 
familiar with a different shell.  You can change their shell now, or 
they can change it themselves later using the <B
CLASS="COMMAND"
>chsh</B
> 
command.</P
><P
><TT
CLASS="COMPUTEROUTPUT"
>   jellyd's account expiry date (YYYY-MM-DD) []:</TT
></P
><P
>Accounts can be set up to expire on a specified date.  By default,
there is no expiration date.  You can change that, if you'd like.
This option might be useful for people running an ISP who might want
to make an account expire upon a certain date, unless they recieve
the next year's payment.</P
><P
>   <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>   OK, I'm about to make a new account. Here's 
   what you entered so far:

   New login name: jellyd
   New UID: [Next available]
   Initial group: users
   Additional groups: [none]
   Home directory: /home/jellyd
   Shell: /bin/bash
   Expiry date: [no expiration]

   This is it... if you want to bail out, hit Control-C.  
   Otherwise, press ENTER to go ahead and make the account.</TT
>
   </PRE
></TD
></TR
></TABLE
></P
><P
>You now see all the information that has been entered about the new
account, and are given the opportunity to stop.  If you entered
something incorrectly, you'll have to hit Control-C and start over.
Otherwise, you can hit enter and the account will be made.</P
><P
>   <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>   Making new account...

   Changing the user information for jellyd
   Enter the new value, or press return for the default
           Full Name []: <TT
CLASS="USERINPUT"
><B
>Jeremy</B
></TT
>
           Room Number []: <TT
CLASS="USERINPUT"
><B
>Smith 130</B
></TT
>
           Work Phone []:
           Home Phone []:
           Other:</TT
>
   </PRE
></TD
></TR
></TABLE
></P
><P
>All of this information is optional.  You don't have to enter any
of this if you don't want to, and the user can change it at any time
using <B
CLASS="COMMAND"
>chfn</B
>.  However, it might be useful to enter 
at least the full name and phone numbers, just in case you need to get 
in touch with the person.</P
><P
>   <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>   Changing password for jellyd
   Enter the new password (minimum of 5, maximum of 127 characters)
   Please use a combination of upper and lower case letters and numbers.
   New password:
   Re-enter new password:
   Password changed.
   Done...</TT
>
   </PRE
></TD
></TR
></TABLE
></P
><P
>You'll have to enter a password for the new user.  Generally, if the
new user is not physically present at this point, you'll just pick some
default password and tell the user to change it to something more
secure.</P
><DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
><IMG
SRC="images/note.gif"
HSPACE="5"
ALT="Note"></TD
><TH
ALIGN="LEFT"
VALIGN="CENTER"
><B
>Choosing a Password</B
></TH
></TR
><TR
><TD
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>Having a secure password is the first line of defense against getting 
cracked.  You do not want to have an easily guessed password, because
that makes it easier for someone to break into your system.  Ideally,
a secure password would be a random string of characters, including
upper and lowercase letters, numbers, and random charactes.  Just
remember that a tab character might not be a wise choice, depending
on what kinds of computers you'll be logging in from.</P
><P
>In general, just use common sense: don't pick a password that is 
someone's birthday, a common phrase, something found on your desk,
or anything that is easily associated with you.  &#8220;secure1&#8221;
is also bad.</P
></TD
></TR
></TABLE
></DIV
><P
>Removing users is not difficult at all.  Just run <B
CLASS="COMMAND"
>userdel</B
> 
with the name of the account to remove.  You'll have to make sure that the 
user is not logged in, and that no processes are running as that user.  Also, 
remember that once you've deleted the user, they're gone.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>   # <TT
CLASS="USERINPUT"
><B
>userdel jellyd</B
></TT
></TT
></PRE
></TD
></TR
></TABLE
><P
>Doing this would remove that annoying &#8220;jellyd&#8221; guy from your 
system.  Good riddance :)  This removes the user from the 
<TT
CLASS="FILENAME"
>/etc/passwd</TT
> and <TT
CLASS="FILENAME"
>/etc/group</TT
> files, 
but doesn't remove the user's home directory.  If you wanted to remove the 
home directory as well, you would do the following:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>   # <TT
CLASS="USERINPUT"
><B
>userdel -r jellyd</B
></TT
></TT
></PRE
></TD
></TR
></TABLE
><P
>Temporarily disabling an account will be covered in 
<A
HREF="c2773.html#CHANGINGPASSWORDS"
>the section called <I
>Changing Passwords</I
></A
> since that involves modifying the user's 
password.  Changing account information is covered in 
<A
HREF="c2773.html#CHANGINGPASSWORDS"
>the section called <I
>Changing Passwords</I
></A
> and <A
HREF="c2773.html#CHANGINGUSERINFO"
>the section called <I
>Changing User Information</I
></A
>.</P
><P
>The programs to add and remove groups are very simple.  
<B
CLASS="COMMAND"
>groupadd</B
> will just add another entry to the 
<TT
CLASS="FILENAME"
>/etc/group</TT
> file with a unique group ID, while 
<B
CLASS="COMMAND"
>groupdel</B
> will remove the specified group.  It is up to 
you to go in and edit <TT
CLASS="FILENAME"
>/etc/group</TT
> to add users to a 
specific group.</P
><P
>You create a group like so:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>   # <TT
CLASS="USERINPUT"
><B
>groupadd cvs</B
></TT
></TT
></PRE
></TD
></TR
></TABLE
><P
>And remove it like so:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>   # <TT
CLASS="USERINPUT"
><B
>groupdel cvs</B
></TT
></TT
></PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="BYHAND"
>By hand</A
></H2
><P
>Of course, it is possible to add, modify, and remove users and groups
by hand.  After looking through this procedure, you'll probably find it
much more convenient to use the scripts, though.</P
><P
>First, we'll add a new user to the <TT
CLASS="FILENAME"
>/etc/passwd</TT
>(5), 
<TT
CLASS="FILENAME"
>/etc/shadow</TT
>(5), and <TT
CLASS="FILENAME"
>/etc/group</TT
>(5)
files.  The <TT
CLASS="FILENAME"
>passwd</TT
> file holds some information about the 
user, but (strangely enough) not their password.  The 
<TT
CLASS="FILENAME"
>passwd</TT
> file has to be readable by anyone, but you don't 
want encrypted passwords world-readable because this gives would-be crackers a 
good place to start.  So the encrypted passwords are kept in the 
<TT
CLASS="FILENAME"
>shadow</TT
> file, which is only readable by root, and 
everyone's password is entered into the <TT
CLASS="FILENAME"
>passwd</TT
> file as 
&#8220;x&#8221;.  The group file lists all the groups and who is in each.</P
><P
>Let's go ahead and examine the <TT
CLASS="FILENAME"
>/etc/passwd</TT
> file and 
figure out how to add someone.  A typical entry in <TT
CLASS="FILENAME"
>passwd</TT
>
looks like this:</P
><DIV
CLASS="INFORMALEXAMPLE"
><P
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>   chris:x:1000:100:Chris Lumens,Room 2,,:/home/chris:/bin/bash</PRE
></TD
></TR
></TABLE
><P
></P
></DIV
><P
>Each line is an entry for one person, and fields on each line are separated 
by a colon.  The fields are the login name, encrypted password 
(&#8220;x&#8221; for everyone on a Slackware system, since we use the shadow 
password suite), user ID, group ID, the optional finger information separated 
by commas, home directory, and shell.  What you have to do in this file is add 
a new line onto the end, filling in the appropriate information.</P
><P
>Make sure that the password is an <TT
CLASS="USERINPUT"
><B
>x</B
></TT
>, that the user 
ID is unique, that they are in group 100 (the &#8220;users&#8221; group under
Slackware), and that they have a valid shell.</P
><P
>Next, we'll need to add an entry in the <TT
CLASS="FILENAME"
>/etc/shadow</TT
> file, 
which holds the passwords.  A typical entry looks like this:</P
><DIV
CLASS="INFORMALEXAMPLE"
><P
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>   chris:$1$w9bsw/N9$UWLr2bRER6YyBS.CAEp7R.:11055:0:99999:7:::</PRE
></TD
></TR
></TABLE
><P
></P
></DIV
><P
>Again, each line is an entry for one person and the fields are separated
by colons.  The fields are the login name, encrypted password, days since
the Epoch (January 1, 1970) that the password was last changed, days before
the password may be changed, days after which the password must be changed,
days before password expiration that the user is notified, days after
expiration that the account is disabled, days since the Epoch that the
account is disabled, and a reserved field.</P
><P
>As you can see, most of that is for account expiration information.  If you 
aren't using expiration information, you only need to fill in a few fields 
with some special values.  Otherwise, you'll need to do some calculations 
and decision making before you can fill those fields in.  For our new user, 
put some random garbage in the password field.  Don't worry about what the
password is right now because you're going to change it in a minute.  The
only character you cannot include in the password field is a colon.  Leave 
the &#8220;days since password was changed&#8221; field blank as well.  Fill 
in <TT
CLASS="USERINPUT"
><B
>0</B
></TT
>, <TT
CLASS="USERINPUT"
><B
>99999</B
></TT
>, and 
<TT
CLASS="USERINPUT"
><B
>7</B
></TT
> just as you see in the example entry, and leave the 
other fields blank.</P
><P
>For those of you who see my encrypted password above and think you've got
a leg up on breaking into my system, go right ahead.  If you can crack
that password, you'll know the password to a firewalled test system.  Now 
that's useful :)</P
><P
>Since everyone is a member of the &#8220;users&#8221; group by default, you 
won't need to add the new user to it.  If you want to create a new group or add
the new user to other groups, you'll need to modify the 
<TT
CLASS="FILENAME"
>/etc/group</TT
> file.  Here is a typical entry:</P
><DIV
CLASS="INFORMALEXAMPLE"
><P
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>   cvs::102:chris,logan,david,root</PRE
></TD
></TR
></TABLE
><P
></P
></DIV
><P
>The fields are group name, group password, group ID, and group members.
Creating a new group is a simple matter of adding a new line with a unique
group ID and listing all the people you want to be in the group.  Any
users that are in this new group and are logged in will have to log out
and log back in for those changes to take effect.</P
><P
>Now, go back and use the <B
CLASS="COMMAND"
>passwd</B
> command to create a new
password for the user.  Then, use <B
CLASS="COMMAND"
>mkdir</B
> to create the new 
user's home directory in the location you entered into the 
<TT
CLASS="FILENAME"
>/etc/passwd</TT
> file.</P
><P
>If you've installed <B
CLASS="COMMAND"
>sendmail</B
>(8) on your system and actively 
use mail, you will need to create a new file in 
<TT
CLASS="FILENAME"
>/var/spool/mail</TT
> with the proper 
permissions and ownerships for this new user.  Here's an example:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>   # <TT
CLASS="USERINPUT"
><B
>touch /var/spool/mail/jellyd</B
></TT
>
   # <TT
CLASS="USERINPUT"
><B
>chown jellyd.users /var/spool/mail/jellyd</B
></TT
>
   # <TT
CLASS="USERINPUT"
><B
>chmod 660 /var/spool/mail/jellyd</B
></TT
></TT
></PRE
></TD
></TR
></TABLE
><P
>Those commands would create a mail file for the new user &#8220;jellyd&#8221; 
and set up the correct ownerships and permissions.</P
><P
>Removing a user is a simple matter of getting rid of everything you just 
created.  Remove the user's entry from <TT
CLASS="FILENAME"
>/etc/passwd</TT
> and 
<TT
CLASS="FILENAME"
>/etc/group</TT
>.  Remove their login name from any groups in 
the <TT
CLASS="FILENAME"
>/etc/group</TT
> file, remove their mail spool file if 
they have one, and delete their home directory if needed.</P
><P
>Removing groups is a simple matter of removing the group's entry from
<TT
CLASS="FILENAME"
>/etc/group</TT
>.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="CHANGINGPASSWORDS"
>Changing Passwords</A
></H2
><P
>The <B
CLASS="COMMAND"
>passwd</B
> program changes passwords by modifying the 
<TT
CLASS="FILENAME"
>/etc/shadow</TT
> file.  This file holds all the passwords 
for the system in an encrypted format.  In order to change your password, 
you would type:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>   $ <TT
CLASS="USERINPUT"
><B
>passwd</B
></TT
>
   Changing password for chris
   Old password:
   Enter the new password (minumum of 5, maximum of 127 characters)
   Please use a combination of upper and lower case letters and numbers.
   New password:</TT
></PRE
></TD
></TR
></TABLE
><P
>As you can see, you are prompted to enter your old password.  It won't 
appear on the screen as you type it, just like when you log in.  Then, you are 
prompted to enter the new password.  <B
CLASS="COMMAND"
>passwd</B
> performs a lot 
of checks on your new password, and it will complain if your new password 
doesn't pass its checks.  You can ignore its warnings if you want.  You will 
eventually be prompted to enter your new password again for confirmation.</P
><P
>If you are root, you can also change another user's password:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>   # <TT
CLASS="USERINPUT"
><B
>passwd ted</B
></TT
></TT
></PRE
></TD
></TR
></TABLE
><P
>You will then have to go through the same procedure as above, except that 
you won't have to enter the old password.  (One of the many benefits of being
root...)</P
><P
>If you've got some troublemakers on your system, you can also temporarily
disable their accounts.  Later on, you can reenable their accounts.  Both 
disabling an account and reenabling an account can be done with 
<B
CLASS="COMMAND"
>passwd</B
>.  To disable an account, do the following as root:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>   # <TT
CLASS="USERINPUT"
><B
>passwd -l david</B
></TT
></TT
></PRE
></TD
></TR
></TABLE
><P
>This will change david's password to something that can never match any
encrypted value.  Then, you would change their password back later by 
typing this:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>   # <TT
CLASS="USERINPUT"
><B
>passwd -u david</B
></TT
></TT
></PRE
></TD
></TR
></TABLE
><P
>Now, david's account is back to normal.  Disabling an account might be useful
if the user doesn't play by the rules you've set up on your system or if 
they've exported a very large copy of <B
CLASS="COMMAND"
>xeyes</B
>(1) to your 
X desktop.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="CHANGINGUSERINFO"
>Changing User Information</A
></H2
><P
>There are two pieces of information that a user can change about their
account at any time: their shell and their finger information.  Slackware
Linux uses <B
CLASS="COMMAND"
>chsh</B
> (change shell) and <B
CLASS="COMMAND"
>chfn</B
> 
(change finger) to modify these values.</P
><P
>A user can pick any shell that is listed in the <TT
CLASS="FILENAME"
>/etc/shells</TT
>
file.  For most people, <B
CLASS="COMMAND"
>bash</B
> will do just fine.  Others 
might be familiar with a shell found on their 
<SPAN
CLASS="TRADEMARK"
>Unix</SPAN
> system at work or school 
and want to use what they already know.  The shell is changed using 
<B
CLASS="COMMAND"
>chsh</B
>:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="COMPUTEROUTPUT"
>   $ <TT
CLASS="USERINPUT"
><B
>chsh</B
></TT
>
   Password:
   Changing the login shell for chris
   Enter the new value, or press return for the default
        Login Shell [/bin/bash]:</TT
></PRE
></TD
></TR
></TABLE
><P
>After entering your password, enter the full path to the new shell.  Make 
sure that it's listed in the <TT
CLASS="FILENAME"
>/etc/shells</TT
>(5) file first.
root can also change a user's shell by running <B
CLASS="COMMAND"
>chsh</B
> with a 
username as the argument.</P
><P
>The finger information is the optional information such as your full name,
phone numbers, and room number.  This can be changed using 
<B
CLASS="COMMAND"
>chfn</B
>, and follows the same procedure as it did during
account creation.  As usual, root can change anyone's finger information.</P
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x2767.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x2982.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Summary</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="p1888.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Shutting Down Properly</TD
></TR
></TABLE
></DIV
></BODY
></HTML
></TD></TR></TABLE>
</TD></TR></TABLE>   </TD>
</TR>
<TR VALIGN="top">
      <BR><BR><BR>

<TD COLSPAN="3" ALIGN="right"><TABLE WIDTH="" CELLPADDING="0"><TR><TD BGCOLOR="#000000">

	      <TABLE WIDTH="100%" CELLPADDING="4">
	      <TR><TD BGCOLOR="#fefefe">

<FONT SIZE="-2">
Slackware&reg; is a registered trademark of
<A HREF="http://www.cdrom.com">Walnut Creek CDROM</A>
and <A HREF="mailto:volkerdi@slackware.com">Patrick Volkerding</A>.
</FONT>

</TD></TR></TABLE>
</TD></TR></TABLE>
   </TD>
</TR>
</TABLE>

</CENTER>

</HTML>
